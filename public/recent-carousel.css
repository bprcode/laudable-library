:root {
    --show-time: 3s;
    --book-height: 300px;
    --book-aspect: 0.6;
    --book-width: calc(var(--book-height) * var(--book-aspect));
    --book-depth: 50px;
    --book-color-rgb: 240 90 60;
    --info-color: #fff;
    --charcoal: #222;
}

.dark-card {
    background-color: var(--charcoal);
    border-radius: 8px;
}

.recent-outer {
    overflow: hidden;
    width: 100%;
    border-bottom-right-radius: 8px;
    
    background-image: radial-gradient(250px 100px at 25% 90%,
        var(--light-shade) 90%, var(--charcoal));
}

.curtain-right {
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(90deg, transparent 25%, var(--charcoal) 75%)
}

.cycle-container {
    z-index: 12;
    position: relative;
    width: 100%;
    min-height: 100%;
    overflow: hidden;
}

.cycle-text {
    position: absolute;
    width: 100%;
    height: 100%;
    color: white;
}

.cycle-forward-animate {
    animation: var(--show-time) normal 1 cycle-forward ease-in-out;
}

.cycle-text div {
    position: absolute;
    min-width: 100%;
    max-width: 100%;
    height: 100%;
}

.current-pane {
    left: 0%;
}

.next-pane {
    left: 100%;
}

@keyframes cycle-forward {
    0% {
        left: 0%;
    }
    85% {
        left: 0%;
    }
    97% {
        left: -100%;
    }
}

.top-bar {
    color: white;
}

.spotlight-pane {
    flex-shrink: 0;
    width: 300px;
    height: 300px;
}

.recently-added {
    z-index: 10;
    position: relative;
    height: 100%;
    width: 100%;
}

.camera {
    z-index: 1;
    transform-style: preserve-3d;   
}

.camera-animate {
    animation: var(--show-time) normal infinite wiggle-camera linear;
}

@keyframes wiggle-camera {
    from {
        transform: perspective(800px) translate3d(0, 430px, -600px)
                    rotate3d(0.3,1,0.05, -5deg);
    }
    to {
        transform: perspective(800px) translate3d(0, 430px, -600px)
                    rotate3d(0.3,1,0.05, -37deg);
    }
}
.recent-overlay {
    z-index: 10;
    position: absolute;
    left: 1.25em;
    top: 0.15em;
    color: #ffa;
}

.book-model {
    position: absolute;
    top: 50%;
    left: 50%;
    height: var(--book-height);
    width: var(--book-width);

    transform-style: preserve-3d;
    transform: translateY(calc(-0.5 * var(--book-height)));
}

.book-model-animate {
    animation: var(--show-time) infinite normal presentBook;
}

@keyframes presentBook {
    0% {
        transform: translate3d(calc(-50% + 900px), -50%, 0);
    }
    20% {
        transform: translate3d(calc(-50% + 120px), -50%, 0);
    }
    85% {
        transform: translate3d(calc(-50% + 120px), -50%, 0);
    }
    100% {
        transform: translate3d(calc(-50% - 500px), -50%, 0px);
    }
}

.book-face {
    filter: blur(3px); /* Workaround for lack of antialiasing in FireFox */
                        /* Overridden in front-face filter */
    position:absolute;
    backface-visibility: hidden;
}

.book-front {
    height: var(--book-height);
    width: var(--book-width);
    background-color: rgb(var(--book-color-rgb));
    transform:  translateX(-50%) translateY(-50%)
                rotateY(0deg)
                translateZ(calc(var(--book-depth) / 2));
}

.book-front img {
    height: 100%;
}

.book-front-animate {
    animation: var(--show-time) infinite normal gleamFace ease-in-out;
}

.ambient-front {
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(0deg, #0005 2%, transparent 10%);
}

.ambient-right {
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(0deg, #0003, transparent 12%);
}

.book-left {
    height: var(--book-height);
    width: var(--book-depth);
    background-color: var(--primary);
    transform:  translateX(-50%) translateY(-50%)
                rotateY(-90deg)
                translateZ(calc(var(--book-width) / 2));
}

.book-right {
    height: var(--book-height);
    width: var(--book-depth);
    background-color: rgb(190, 185, 173);
    transform:  translateX(-50%) translateY(-50%)
                rotateY(90deg)
                translateZ(calc(var(--book-width) / 2));
}

.book-top {
    height: var(--book-depth);
    width: var(--book-width);
    background-color: rgb(237, 233, 222);
    transform:  translateX(-50%) translateY(-50%)
                rotateX(90deg)
                translateZ(calc(var(--book-height) / 2));
}

.ambient-before {
    position: absolute;
    height: calc(var(--book-height));
    width: var(--book-width);
    background-image: radial-gradient(calc(0.8 * var(--book-width)) 30% at 50% 0%, #2228 30%, transparent);
    transform:
        translateX(-50%)
        rotateX(90deg)
        translateY(50%)
        ;
}

.blob-shadow {
    position: absolute;
    height: var(--book-height);
    width: var(--book-width);
    background-image: radial-gradient(100px 70% at 50% 100%, #2226 50%, transparent);
}

.blob-shadow-animate {
    animation: var(--show-time) infinite normal skewShadow;
}

@keyframes gleamFace {
    0% {
        filter: brightness(35%);
    }
    15% {
        filter: brightness(100%);
    }
    85% {
        filter: brightness(130%);
    }
    93% {
        filter: brightness(65%);
    }
}

@keyframes skewShadow {
    from {
        transform:  
        translateX(-50%) translateY(-50%)
        rotateX(90deg)
        translateY(calc(var(--book-depth) / 2))
        skewX(-5deg)
        scaleY(0.7)
        translate3d(
            0,
            calc(var(--book-height) / -2),
            calc(var(--book-height) / -2)
        );
    }
    to {
        transform:  
        translateX(-50%) translateY(-50%)
        rotateX(90deg)
        translateY(calc(var(--book-depth) / 2))
        skewX(-45deg)
        scaleY(2.3)
        translate3d(
            0,
            calc(var(--book-height) / -2),
            calc(var(--book-height) / -2)
        );
    }   
}
