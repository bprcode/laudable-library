{{! This template populates catalog-layout.hbs }}
{{#> catalog_layout use_script='/form-eraser.js' no_title=1}}{{#*inline 'content'~}}
<div class="card">
    <div class="card-header mb-3"><h1 class="fs-3">{{title}}</h1></div>

    <div class="container col-md-10">
        <form class="mb-4" action="{{form_action}}" method="POST">

            <div class="row mb-3">
                <label for="title-id" class="col-form-label col-sm-3">Title</label>
                <div class="col input-group-has-validation">
                    <input class="form-control {{#if (error-check trouble 'title')}}is-invalid{{/if}}" id="title-id" name="title" type="text">
                    <div class="invalid-feedback">{{error-check trouble 'title'}}</div>
                </div>
            </div>

            <div class="row mb-3">
                <label for="select-author-id" class="col-form-label col-sm-3">Author</label>
                <div class="col input-group-has-validation">
                    <select name="author_id" id="select-author-id" class="form-select {{#if (error-check trouble 'author_id')}}is-invalid{{/if}}">
                        <option selected>Select author...</option>
                        {{#each authors}}
                        <option value="{{author_id}}">{{last_name}}{{#if last_name}}, {{/if}}{{first_name}}</option>
                        {{/each}}
                    </select>
                    <div class="invalid-feedback">{{error-check trouble 'author_id'}}</div>
                </div>
            </div>

            <div class="row mb-3">
                <label for="isbn-id" class="col-form-label col-sm-3">ISBN</label>
                <div class="col input-group-has-validation">
                    <input class="form-control {{#if (error-check trouble 'isbn')}}is-invalid{{/if}}" id="isbn-id" name="isbn" type="text">
                    <div class="invalid-feedback">{{error-check trouble 'isbn'}}</div>
                </div>
            </div>

            <div class="row mb-3">
                <label for="summary-id" class="col-form-label col-sm-3">Summary</label>
                <div class="col input-group-has-validation">
                    <textarea class="form-control {{#if (error-check trouble 'summary')}}is-invalid{{/if}}" id="summary-id" name="summary" type="text" rows="4"></textarea>
                    <div class="invalid-feedback">{{error-check trouble 'summary'}}</div>
                </div>
            </div>

            <div class="row mb-3">
                <label for="genre-checkboxes" class="col-form-label col-sm-3">Genres</label>
                <div class="col d-flex flex-wrap justify-content-between">
                    {{#each genres}}
                    <div class="form-check min-tiny">
                        <input type="checkbox" class="form-check-input" name="genre-{{genre_id}}" id="cb-{{genre_id}}">
                        <label for="cb-{{genre_id}}">{{name}}</label>
                    </div>
                    {{/each}}
                </div>
            </div>

            <div class="d-flex justify-content-end">
            <button class="btn btn-primary fw-semibold" type="submit">Create</button>
            </div>
        </form>
    </div>
</div>
{{~/inline}}{{/catalog_layout}}
